# 🗺 蜂神榜視覺化 — 開發路線圖

## Phase 0：基礎建設（1-2 天）
> 目標：專案骨架 + 能跑起來的空場景

- [ ] 初始化 Vite + Phaser.js + TypeScript 專案
- [ ] 基本場景架構（BootScene → HiveTemple）
- [ ] 品牌色 + 字體配置
- [ ] 開發環境 Hot Reload
- [ ] 佔位圖形（用色塊代替像素角色）

**產出：** 能看到一個深藍色背景 + 蜂巢圖案的空場景

---

## Phase 1：角色與場景（1 週）
> 目標：看到角色在場景裡動起來

### 1a. 像素美術製作
- [ ] 設計場景 Tileset（蜂巢宮殿）
  - 地板：蜂巢紋地磚
  - 牆壁：古代宮殿 + 科技蜂巢融合
  - 家具：寶座、工作桌、書架
- [ ] 製作角色 Sprite Sheet（優先 5 個）
  - 姜子牙（L1）
  - 妲己（L2）
  - 紂王（L2）
  - 千里眼（L3）
  - 順風耳（L3）
- [ ] 製作通用門徒 Sprite 模板（換色方案）

### 1b. 場景搭建
- [ ] 用 Tiled Editor 設計場景地圖
- [ ] 載入 Tilemap 到 Phaser
- [ ] 放置角色到對應位置
- [ ] 基本動畫播放（idle）

**產出：** 5 個角色站在蜂巢宮殿裡，有 idle 動畫

---

## Phase 2：狀態與互動（1 週）
> 目標：角色有生命力，可以互動

### 2a. 狀態系統
- [ ] AgentSprite 類別 — 管理角色狀態與動畫切換
- [ ] Mock 數據源 — 模擬 Agent 狀態變化
- [ ] 狀態動畫：idle / thinking / replying / active / error / offline
- [ ] 狀態切換過渡效果

### 2b. UI 互動
- [ ] 點擊角色 → 顯示資訊卡
  - 角色名稱、層級
  - 當前模型
  - 最近活動
  - Token 用量
- [ ] 懸停 → 名稱 tooltip
- [ ] 頂部狀態列（系統總覽）
- [ ] 角色頭上狀態氣泡

### 2c. 視覺效果
- [ ] 蜂巢背景粒子動畫
- [ ] 科技線條流動效果
- [ ] 角色發光（active 狀態）
- [ ] 環境光影變化

**產出：** 角色會根據狀態切換動畫，點擊可看詳情

---

## Phase 3：數據接入（1 週）
> 目標：連接真實 Agent 數據

- [ ] OpenClaw Session API 接入
- [ ] 解析 Agent 狀態映射
- [ ] Token 用量追蹤
- [ ] 定時輪詢（Polling，5-10 秒）
- [ ] Bot-gateway 活動數據
- [ ] 錯誤狀態檢測

**產出：** 畫面上的角色反映真實 Agent 運作狀態

---

## Phase 4：即時與進階（持續）
> 目標：完善體驗，即時更新

- [ ] WebSocket / SSE 即時推送
- [ ] 角色走動動畫（前往工位、開會等）
- [ ] 音效系統（通知、環境音）
- [ ] 歷史回放功能
- [ ] 小地圖導航
- [ ] 全螢幕模式
- [ ] 暗色/亮色主題
- [ ] 移動端適配

---

## Phase 5：部署與整合
> 目標：上線給老闆用

- [ ] 打包部署（GitHub Pages / Cloudflare）
- [ ] 整合到 W8 Dashboard（`/hive-monitor`）
- [ ] 登入認證
- [ ] 效能優化（Lazy load sprites）

---

## 里程碑

| 里程碑 | 預計時間 | 關鍵指標 |
|--------|---------|---------|
| M0: 空場景 | +2天 | Phaser 跑起來，看到蜂巢背景 |
| M1: 角色站立 | +1週 | 5 個角色在場景中有 idle 動畫 |
| M2: 互動 | +2週 | 點擊角色看資訊，狀態動畫 |
| M3: 真實數據 | +3週 | 連接 OpenClaw，反映真實狀態 |
| M4: 上線 | +1個月 | 部署 + 整合到 Dashboard |

---

## 優先級原則

1. **先有再好** — 佔位圖先上，像素美術慢慢做
2. **核心先行** — 狀態監控 > 花俏動畫
3. **漸進增強** — Mock → Polling → WebSocket
4. **美術外包可選** — 像素角色可以找專人做，不影響技術進度
